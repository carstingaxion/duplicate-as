{"version":3,"file":"index.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;ACAA,0C;;;;;;;;;;ACAA,4C;;;;;;;;;;ACAA,0C;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,wC;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,sC;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,2C;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WC5BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACoD;AACK;AACX;AACA;AACF;AACA;AACa;AACC;AACX;;AAE/C;AACA;AACA;AACuB;;AAEvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;AAsCA,SAASa,mBAAmBA,CAACC,cAAc,EAAE;EAC5C,IAAI,CAACA,cAAc,EAAEC,QAAQ,EAAEC,YAAY,EAAE;IAC5C,OAAO,EAAE;EACV;EAEA,MAAMC,gBAAgB,GAAGH,cAAc,CAACC,QAAQ,CAACC,YAAY;;EAE7D;EACA,IAAIE,KAAK,CAACC,OAAO,CAACF,gBAAgB,CAAC,EAAE;IACpC,OAAOA,gBAAgB,CAAC,CAAC,CAAC,CAACG,MAAM,CAACC,MA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","sources":["webpack://duplicate-as/./src/editor.scss?0339","webpack://duplicate-as/external window [\"wp\",\"apiFetch\"]","webpack://duplicate-as/external window [\"wp\",\"components\"]","webpack://duplicate-as/external window [\"wp\",\"coreData\"]","webpack://duplicate-as/external window [\"wp\",\"data\"]","webpack://duplicate-as/external window [\"wp\",\"editor\"]","webpack://duplicate-as/external window [\"wp\",\"element\"]","webpack://duplicate-as/external window [\"wp\",\"i18n\"]","webpack://duplicate-as/external window [\"wp\",\"plugins\"]","webpack://duplicate-as/external window \"ReactJSXRuntime\"","webpack://duplicate-as/webpack/bootstrap","webpack://duplicate-as/webpack/runtime/compat get default export","webpack://duplicate-as/webpack/runtime/define property getters","webpack://duplicate-as/webpack/runtime/hasOwnProperty shorthand","webpack://duplicate-as/webpack/runtime/make namespace object","webpack://duplicate-as/./src/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"plugins\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Check if module exists (development only)\n\tif (__webpack_modules__[moduleId] === undefined) {\n\t\tvar e = new Error(\"Cannot find module '\" + moduleId + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Duplicate as - Main Entry Point\n *\n * This file registers a WordPress plugin that adds duplicate/transform buttons\n * to the PluginPostStatusInfo panel in the editor sidebar. The buttons allow users to:\n * - Duplicate posts/pages with all content and metadata\n * - Transform posts to different post types when configured\n * - Support multiple actions (duplicate + transform) when configured with an array\n *\n * @package DuplicateAs\n * @since 0.1.0\n */\n\n/**\n * WordPress dependencies\n */\nimport { registerPlugin } from '@wordpress/plugins';\nimport { PluginPostStatusInfo } from '@wordpress/editor';\nimport { useState } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport { useSelect } from '@wordpress/data';\nimport { store as editorStore } from '@wordpress/editor';\nimport { store as coreStore } from '@wordpress/core-data';\nimport { Button } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\n\n/**\n * Post type object interface\n * @typedef {Object} PostTypeObject\n * @property {Object} supports - Post type supports object\n * @property {boolean|Array<string>|string} supports.duplicate_as - Duplicate support config\n * @property {Object} labels - Post type labels\n * @property {string} labels.singular_name - Singular name for the post type\n * @property {string} [icon] - Post type icon (Dashicon or SVG)\n * @property {string} slug - Post type slug\n */\n\n/**\n * Get all transform targets from post type supports\n *\n * Extracts all target post types from the duplicate_as support configuration.\n * Returns an array of valid post type slugs that can be used for transformation.\n * If the array includes the source post type itself, duplication is also supported.\n *\n * @since 0.1.0\n * @param {PostTypeObject|null|undefined} postTypeObject - The post type object from WordPress core.\n * @return {Array<string>} Array of target post type slugs.\n *\n * @example\n * // For a page with both duplication and transformation:\n * const postTypeObj = {\n *   supports: {\n *     duplicate_as: ['page', 'post', 'event']\n *   }\n * };\n * getTransformTargets(postTypeObj); // Returns: ['page', 'post', 'event']\n *\n * @example\n * // For a post with simple duplication (no transformation):\n * const postTypeObj = {\n *   supports: {\n *     duplicate_as: true\n *   }\n * };\n * getTransformTargets(postTypeObj); // Returns: []\n *\n * @example\n * // For a page with single transformation target:\n * const postTypeObj = {\n *   supports: {\n *     duplicate_as: 'post'\n *   }\n * };\n * getTransformTargets(postTypeObj); // Returns: ['post']\n */\nfunction getTransformTargets(postTypeObject) {\n\tif (!postTypeObject?.supports?.duplicate_as) {\n\t\treturn [];\n\t}\n\n\tconst duplicateSupport = postTypeObject.supports.duplicate_as;\n\t\n\t// If it's an array, filter valid post types\n\tif (Array.isArray(duplicateSupport)) {\n\t\treturn duplicateSupport[0].filter(target => typeof target === 'string' && target.length > 0);\n\t}\n\t\n\t// If it's a string (single target), return as array\n\tif (typeof duplicateSupport === 'string' && duplicateSupport.length > 0) {\n\t\treturn [duplicateSupport];\n\t}\n\n\t// Simple duplication (true) - no transformation targets\n\treturn [];\n}\n\n/**\n * Parse Dashicon from post type icon\n *\n * WordPress post type icons can be:\n * - Dashicons class names (e.g., 'dashicons-admin-post')\n * - Just the icon name (e.g., 'admin-post')\n * - SVG data URIs\n * - null/undefined\n *\n * This function extracts the Dashicon name for use with WordPress components.\n *\n * @since 0.1.0\n * @param {string|null|undefined} icon - Post type icon value.\n * @return {string} Dashicon name without 'dashicons-' prefix, or default icon.\n *\n * @example\n * parseDashicon('dashicons-admin-post'); // Returns: 'admin-post'\n * parseDashicon('admin-post'); // Returns: 'admin-post'\n * parseDashicon(null); // Returns: 'admin-page'\n */\nfunction parseDashicon(icon) {\n\tif (!icon || typeof icon !== 'string') {\n\t\treturn 'admin-page';\n\t}\n\n\t// If it's a data URI (SVG), return default icon\n\tif (icon.startsWith('data:')) {\n\t\treturn 'admin-page';\n\t}\n\n\t// Remove 'dashicons-' prefix if present\n\tif (icon.startsWith('dashicons-')) {\n\t\treturn icon.replace('dashicons-', '');\n\t}\n\n\treturn icon;\n}\n\n/**\n * Duplicate button component props\n * @typedef {Object} DuplicateButtonProps\n * @property {number} postId - Current post ID\n * @property {string|null} targetPostType - Target post type (null for duplication)\n * @property {string} currentPostType - Current post type\n * @property {PostTypeObject|undefined} targetPostTypeObject - Target post type object\n */\n\n/**\n * Duplicate Post Button Component\n *\n * Renders a single duplicate or transform button.\n *\n * @since 0.1.0\n * @param {DuplicateButtonProps} props - Component props.\n * @return {JSX.Element} Button component.\n */\nfunction DuplicateButton({ postId, targetPostType, currentPostType, targetPostTypeObject }) {\n\tconst [isLoading, setIsLoading] = useState(false);\n\t\n\t/**\n\t * Determine if this is a transformation or duplication\n\t * @type {boolean}\n\t */\n\tconst isTransform = targetPostType && targetPostType !== currentPostType;\n\t\n\t/**\n\t * Button label: \"Duplicate\" or \"Duplicate as {PostType}\"\n\t * Uses the target post type's singular label for better UX\n\t * @type {string}\n\t */\n\tconst buttonLabel = isTransform\n\t\t? sprintf(\n\t\t\t\t/* translators: %s: target post type singular name */\n\t\t\t\t__('Duplicate as %s', 'duplicate-as'),\n\t\t\t\ttargetPostTypeObject?.labels?.singular_name || targetPostType\n\t\t\t)\n\t\t: __('Duplicate', 'duplicate-as');\n\n\t/**\n\t * Icon for the button\n\t * Uses target post type icon for transform, or default duplicate icon.\n\t * Handles Dashicons format (e.g., 'dashicons-admin-post' -> 'admin-post').\n\t * @type {string}\n\t */\n\tconst icon = isTransform\n\t\t? parseDashicon(targetPostTypeObject?.icon)\n\t\t: 'admin-page';\n\n\t/**\n\t * Handle duplicate/transform button click\n\t *\n\t * Sends a POST request to the REST API to duplicate the current post.\n\t * On success, redirects to the edit screen of the new post.\n\t * On error, displays an alert message.\n\t *\n\t * @since 0.1.0\n\t * @async\n\t * @return {Promise<void>}\n\t *\n\t * @example API Request (Duplication):\n\t * POST /wp-json/duplicate-as/v1/duplicate/123\n\t * Body: {}\n\t *\n\t * @example API Request (Transformation):\n\t * POST /wp-json/duplicate-as/v1/duplicate/123\n\t * Body: { \"target_post_type\": \"post\" }\n\t *\n\t * @example API Response (Success):\n\t * {\n\t *   \"success\": true,\n\t *   \"new_post_id\": 456,\n\t *   \"edit_url\": \"https://example.com/wp-admin/post.php?post=456&action=edit\",\n\t *   \"is_transform\": false\n\t * }\n\t */\n\tconst handleDuplicate = async () => {\n\t\tif (!postId || isLoading) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsLoading(true);\n\n\t\ttry {\n\t\t\tconst requestBody = targetPostType ? { target_post_type: targetPostType } : {};\n\t\t\t\n\t\t\tconst response = await apiFetch({\n\t\t\t\tpath: `/duplicate-as/v1/duplicate/${postId}`,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: requestBody,\n\t\t\t});\n\n\t\t\tif (response.success && response.edit_url) {\n\t\t\t\t// Redirect to edit the newly created post\n\t\t\t\twindow.location.href = response.edit_url;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Duplication failed:', error);\n\t\t\t\n\t\t\t// Show user-friendly error message\n\t\t\tconst message = isTransform\n\t\t\t\t? __('Failed to transform post. Please try again.', 'duplicate-as')\n\t\t\t\t: __('Failed to duplicate post. Please try again.', 'duplicate-as');\n\t\t\t\n\t\t\talert(message);\n\t\t\tsetIsLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\tvariant=\"secondary\"\n\t\t\tisPressed={false}\n\t\t\tisBusy={isLoading}\n\t\t\tonClick={handleDuplicate}\n\t\t\tdisabled={isLoading}\n\t\t\ticon={icon}\n\t\t\tclassName=\"duplicate-as-button\"\n\t\t>\n\t\t\t{isLoading ? __('Processing...', 'duplicate-as') : buttonLabel}\n\t\t</Button>\n\t);\n}\n\n/**\n * Button configuration object\n * @typedef {Object} ButtonConfig\n * @property {string} key - Unique key for React rendering\n * @property {number} postId - Current post ID\n * @property {string|null} targetPostType - Target post type (null for duplication)\n * @property {string} currentPostType - Current post type\n * @property {PostTypeObject|undefined} targetPostTypeObject - Target post type object\n */\n\n/**\n * Editor select return object\n * @typedef {Object} EditorSelectReturn\n * @property {number} postId - Current post ID\n * @property {string} postType - Current post type slug\n * @property {PostTypeObject|undefined} postTypeObject - Full post type object with supports\n * @property {Array<PostTypeObject>} allPostTypes - All post types (for getting target objects)\n */\n\n/**\n * Duplicate Post Status Info Component\n *\n * Renders one or more buttons at the top of the PluginPostStatusInfo panel in the sidebar.\n * Supports multiple actions when the post type is configured with an array of targets.\n *\n * Logic:\n * - If targets array is empty or undefined: Show single \"Duplicate\" button\n * - If targets array includes current post type: Show \"Duplicate\" button for current type\n * - For each target that differs from current type: Show \"Duplicate as {Type}\" button\n *\n * Features:\n * - Only visible for supported post types\n * - Shows loading state while duplicating\n * - Redirects to edit screen on success\n * - Handles errors with user-friendly messages\n * - Permission-aware (respects user capabilities)\n * - Prominent placement at top of status panel\n * - Uses target post type icon and label for transform actions\n * - Supports multiple buttons for multiple actions\n *\n * @since 0.1.0\n * @return {JSX.Element|null} PluginPostStatusInfo component or null if not supported.\n *\n * @example\n * // Component renders as (single action):\n * // ┌─ Summary ─────────────────┐\n * // │ [Duplicate Button]        │\n * // │ Visibility: Public        │\n * // │ Publish: Immediately      │\n * // └───────────────────────────┘\n *\n * @example\n * // Component renders as (multiple actions):\n * // For: add_post_type_support('page', 'duplicate_as', ['page', 'post', 'event'])\n * // ┌─ Summary ─────────────────┐\n * // │ [Duplicate]               │  // page -> page (duplicate)\n * // │ [Duplicate as Post]       │  // page -> post (transform)\n * // │ [Duplicate as Event]      │  // page -> event (transform)\n * // │ Visibility: Public        │\n * // └───────────────────────────┘\n */\nfunction DuplicatePostStatusInfo() {\n\t/**\n\t * Select current post data from WordPress stores\n\t *\n\t * @type {EditorSelectReturn}\n\t */\n\tconst { postId, postType, postTypeObject, allPostTypes } = useSelect(\n\t\t(select) => {\n\t\t\tconst currentPostType = select(editorStore).getCurrentPostType();\n\t\t\tconst postTypeObj = select(coreStore).getPostType(currentPostType);\n\t\t\tconst postTypes = select(coreStore).getPostTypes({ per_page: -1 }) || [];\n\t\t\t\n\t\t\treturn {\n\t\t\t\tpostId: select(editorStore).getCurrentPostId(),\n\t\t\t\tpostType: currentPostType,\n\t\t\t\tpostTypeObject: postTypeObj,\n\t\t\t\tallPostTypes: postTypes,\n\t\t\t};\n\t\t},\n\t\t[]\n\t);\n\n\t/**\n\t * Check if duplicate_as support exists\n\t * @type {boolean}\n\t */\n\tconst supportsDuplicate = postTypeObject?.supports?.duplicate_as ? true : false;\n\n\t// Don't render if post ID is missing or post type doesn't support duplication\n\tif (!postId || !supportsDuplicate) {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Get all transform targets from supports\n\t * @type {Array<string>}\n\t */\n\tconst transformTargets = getTransformTargets(postTypeObject);\n\t\n\t/**\n\t * Determine which buttons to render:\n\t * 1. If no targets specified (simple duplication): show duplicate button\n\t * 2. If targets include current post type: show duplicate button\n\t * 3. For each target different from current type: show transform button\n\t *\n\t * @type {Array<ButtonConfig>}\n\t */\n\tconst buttons = [];\n\t\n\t// Case 1: No targets specified - simple duplication\n\tif (transformTargets.length === 0) {\n\t\tbuttons.push({\n\t\t\tkey: `duplicate-${postType}`,\n\t\t\tpostId,\n\t\t\ttargetPostType: null,\n\t\t\tcurrentPostType: postType,\n\t\t\ttargetPostTypeObject: postTypeObject,\n\t\t});\n\t} else {\n\t\t// Case 2 & 3: Targets specified - show duplicate and/or transform buttons\n\t\ttransformTargets.forEach(targetSlug => {\n\t\t\t// Find the post type object for this target\n\t\t\tconst targetObj = allPostTypes.find(pt => pt.slug === targetSlug);\n\t\t\t\n\t\t\tif (targetSlug === postType) {\n\t\t\t\t// Same as current type - this is duplication\n\t\t\t\tbuttons.push({\n\t\t\t\t\tkey: `duplicate-${postType}`,\n\t\t\t\t\tpostId,\n\t\t\t\t\ttargetPostType: null,\n\t\t\t\t\tcurrentPostType: postType,\n\t\t\t\t\ttargetPostTypeObject: postTypeObject,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Different type - this is transformation\n\t\t\t\tbuttons.push({\n\t\t\t\t\tkey: `transform-${postType}-to-${targetSlug}`,\n\t\t\t\t\tpostId,\n\t\t\t\t\ttargetPostType: targetSlug,\n\t\t\t\t\tcurrentPostType: postType,\n\t\t\t\t\ttargetPostTypeObject: targetObj,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<PluginPostStatusInfo className=\"duplicate-as-status-info\">\n\t\t\t{buttons.map(({ key, ...buttonProps }) => (\n\t\t\t\t<DuplicateButton key={key} {...buttonProps} />\n\t\t\t))}\n\t\t</PluginPostStatusInfo>\n\t);\n}\n\n/**\n * Register the duplicate post button plugin\n *\n * Adds the duplicate button(s) to the PluginPostStatusInfo panel in the editor sidebar.\n * The plugin is registered with a unique name and renders the DuplicatePostStatusInfo component.\n *\n * @since 0.1.0\n *\n * @example\n * // Plugin appears in editor sidebar as (single action):\n * // ┌─ Summary ─────────────────┐\n * // │ [Duplicate Button]        │\n * // │ Visibility: Public        │\n * // │ Publish: Immediately      │\n * // └───────────────────────────┘\n *\n * @example\n * // Plugin appears in editor sidebar as (multiple actions):\n * // ┌─ Summary ─────────────────┐\n * // │ [Duplicate Button]        │\n * // │ [Duplicate as Post]       │\n * // │ [Duplicate as Event]      │\n * // │ Visibility: Public        │\n * // └───────────────────────────┘\n */\nregisterPlugin('duplicate-as', {\n\trender: DuplicatePostStatusInfo,\n});"],"names":["registerPlugin","PluginPostStatusInfo","useState","__","sprintf","apiFetch","useSelect","store","editorStore","coreStore","Button","jsx","_jsx","getTransformTargets","postTypeObject","supports","duplicate_as","duplicateSupport","Array","isArray","filter","target","length","parseDashicon","icon","startsWith","replace","DuplicateButton","postId","targetPostType","currentPostType","targetPostTypeObject","isLoading","setIsLoading","isTransform","buttonLabel","labels","singular_name","handleDuplicate","requestBody","target_post_type","response","path","method","data","success","edit_url","window","location","href","error","console","message","alert","variant","isPressed","isBusy","onClick","disabled","className","children","DuplicatePostStatusInfo","postType","allPostTypes","select","getCurrentPostType","postTypeObj","getPostType","postTypes","getPostTypes","per_page","getCurrentPostId","supportsDuplicate","transformTargets","buttons","push","key","forEach","targetSlug","targetObj","find","pt","slug","map","buttonProps","render"],"ignoreList":[],"sourceRoot":""}